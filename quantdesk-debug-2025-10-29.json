{
  "timestamp": "2025-10-29T11:48:29.428Z",
  "connection": {
    "endpoint": "https://api.devnet.solana.com",
    "version": {
      "feature-set": 3604001754,
      "solana-core": "3.0.6"
    },
    "status": "connected"
  },
  "wallet": {
    "connected": true,
    "connecting": false,
    "name": "Phantom",
    "publicKey": "CWQTht3p9V2QAwbm52K5LErEP9y8D2rihvE9WG7qZhFJ",
    "balance": 19.998091884
  },
  "account": {
    "address": "4sFvaao2dM9LEadk3dKdMUxS17WfzGLuwfrSB5u2Wyjn",
    "data": {
      "data": {
        "type": "Buffer",
        "data": [
          211,
          33,
          136,
          16,
          186,
          110,
          242,
          127,
          170,
          248,
          237,
          43,
          105,
          186,
          164,
          153,
          75,
          58,
          181,
          154,
          227,
          150,
          246,
          122,
          13,
          204,
          125,
          41,
          114,
          195,
          46,
          8,
          43,
          165,
          205,
          50,
          113,
          107,
          118,
          221,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          50,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          16,
          39,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          208,
          7,
          232,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          69,
          176,
          1,
          105,
          0,
          0,
          0,
          0,
          69,
          176,
          1,
          105,
          0,
          0,
          0,
          0,
          1,
          254
        ]
      },
      "executable": false,
      "lamports": 1893120,
      "owner": "C2T3UnvGdHwEkspXJG7JyAhwo6VKQEKjN6eCq69guYSw",
      "rentEpoch": 18446744073709552000,
      "space": 144
    }
  },
  "transactions": {},
  "errors": [
    "2025-10-29T11:48:06.037Z: ✅ Account found at: 4sFvaao2dM9LEadk3dKdMUxS17WfzGLuwfrSB5u2Wyjn",
    "2025-10-29T11:48:06.037Z: ✅ Account found at: 4sFvaao2dM9LEadk3dKdMUxS17WfzGLuwfrSB5u2Wyjn",
    "2025-10-29T11:48:13.574Z: Running diagnostics...",
    "2025-10-29T11:48:13.675Z: Diagnostic: Wallet balance 19.9981 SOL",
    "2025-10-29T11:48:13.687Z: Diagnostic: Account address DGQuJnXaKQo6obLaEGbfaJeJHtGBYHsasPQxo9CH9mjo",
    "2025-10-29T11:48:13.687Z: Diagnostics completed successfully",
    "2025-10-29T11:48:16.937Z: ═══════════════════════════════════════════════════════════",
    "2025-10-29T11:48:16.938Z: 🔍 PDA SEED VERIFICATION - Starting...",
    "2025-10-29T11:48:16.938Z: ═══════════════════════════════════════════════════════════",
    "2025-10-29T11:48:16.982Z: \n📋 Step 1: Verifying PDA seed structure...",
    "2025-10-29T11:48:16.983Z: User Account Seeds:",
    "2025-10-29T11:48:16.983Z:   [0]: 757365725f6163636f756e74 (user_account)",
    "2025-10-29T11:48:16.983Z:   [1]: aaf8ed2b69baa4994b3ab59ae396f67a0dcc7d2972c32e082ba5cd32716b76dd (���+i���K:�����z\r�})r�.\b+��2qkv�)",
    "2025-10-29T11:48:16.983Z:   [2]: 0000 (\u0000\u0000)",
    "2025-10-29T11:48:16.983Z:   ✅ Valid: true",
    "2025-10-29T11:48:16.983Z: \nCollateral SOL Seeds:",
    "2025-10-29T11:48:16.983Z:   [0]: 636f6c6c61746572616c (collateral)",
    "2025-10-29T11:48:16.983Z:   [1]: aaf8ed2b69baa4994b3ab59ae396f67a0dcc7d2972c32e082ba5cd32716b76dd (���+i���K:�����z\r�})r�.\b+��2qkv�)",
    "2025-10-29T11:48:16.983Z:   [2]: 534f4c (SOL)",
    "2025-10-29T11:48:16.983Z:   ✅ Valid: true",
    "2025-10-29T11:48:16.983Z: \nProtocol Vault Seeds:",
    "2025-10-29T11:48:16.983Z:   [0]: 70726f746f636f6c5f736f6c5f7661756c74 (protocol_sol_vault)",
    "2025-10-29T11:48:16.983Z:   ✅ Valid: true",
    "2025-10-29T11:48:16.983Z: \n📋 Step 2: Deriving PDAs...",
    "2025-10-29T11:48:16.983Z: Derived PDAs:",
    "2025-10-29T11:48:16.983Z:   User Account: 4sFvaao2dM9LEadk3dKdMUxS17WfzGLuwfrSB5u2Wyjn",
    "2025-10-29T11:48:16.983Z:   Collateral SOL: 61aqJaQpdnbXHyzJKb91iTpgp1SZgWxJL43suY6D6vpd",
    "2025-10-29T11:48:16.983Z:   Protocol Vault: 5pXGgCZiyhRWAbR29oebssF9Cb4tsSwZppvHBuTxUBZ4",
    "2025-10-29T11:48:16.983Z:   Bumps:",
    "2025-10-29T11:48:16.983Z: \n📋 Step 3: Checking Rust expectations...",
    "2025-10-29T11:48:16.983Z: Expected Rust seeds:",
    "2025-10-29T11:48:16.983Z:   User Account: [b\"user_account\", user.key().as_ref(), &[0u8, 0u8]]",
    "2025-10-29T11:48:16.983Z:   Collateral: [b\"collateral\", user.key().as_ref(), b\"SOL\"]",
    "2025-10-29T11:48:16.983Z:   Protocol Vault: [b\"protocol_sol_vault\"]",
    "2025-10-29T11:48:16.983Z: \n✅ Account index buffer matches Rust [0u8, 0u8]: true",
    "2025-10-29T11:48:16.983Z: \n═══════════════════════════════════════════════════════════",
    "2025-10-29T11:48:16.983Z: ✅ PDA VERIFICATION COMPLETE",
    "2025-10-29T11:48:16.983Z: ═══════════════════════════════════════════════════════════",
    "2025-10-29T11:48:19.653Z: ═══════════════════════════════════════════════════════════",
    "2025-10-29T11:48:19.653Z: ⭐ BEST PRACTICE DEPOSIT TEST - Starting...",
    "2025-10-29T11:48:19.653Z: ═══════════════════════════════════════════════════════════",
    "2025-10-29T11:48:19.673Z: 💰 Testing deposit: 0.01 SOL (10000000 lamports)",
    "2025-10-29T11:48:19.678Z: 🔍 This uses the best-practice depositNativeSOLBestPractice() function",
    "2025-10-29T11:48:19.678Z: 📋 Which follows all expert recommendations:",
    "2025-10-29T11:48:19.678Z:    1. Uses provider.wallet.publicKey (not wallet.adapter.publicKey)",
    "2025-10-29T11:48:19.678Z:    2. Derives PDAs correctly matching Rust seeds",
    "2025-10-29T11:48:19.678Z:    3. Uses Anchor's .rpc() method",
    "2025-10-29T11:48:19.678Z:    4. Proper error handling and validation\n",
    "2025-10-29T11:48:22.153Z: ❌❌❌ BEST PRACTICE DEPOSIT FAILED",
    "2025-10-29T11:48:22.153Z: Error: AccountNotSigner: The user account (CWQTht3p9V2QAwbm52K5LErEP9y8D2rihvE9WG7qZhFJ) is not being recognized as a signer. This usually means provider.wallet.publicKey wasn't used correctly in .accounts()",
    "2025-10-29T11:48:25.537Z: ═══════════════════════════════════════════════════════════",
    "2025-10-29T11:48:25.537Z: 🧪 DEPOSIT TEST SUITE - Starting...",
    "2025-10-29T11:48:25.537Z: ═══════════════════════════════════════════════════════════",
    "2025-10-29T11:48:25.577Z: ✅ TEST: Imports loaded",
    "2025-10-29T11:48:25.624Z: ✅ TEST 1: PDAs derived",
    "2025-10-29T11:48:25.625Z:    User Account: 4sFvaao2dM9LEadk3dKdMUxS17WfzGLuwfrSB5u2Wyjn",
    "2025-10-29T11:48:25.625Z:    Collateral: 61aqJaQpdnbXHyzJKb91iTpgp1SZgWxJL43suY6D6vpd",
    "2025-10-29T11:48:25.625Z:    Protocol Vault: 5pXGgCZiyhRWAbR29oebssF9Cb4tsSwZppvHBuTxUBZ4",
    "2025-10-29T11:48:25.625Z: \n🔍 TEST 2: Checking instruction account structure...",
    "2025-10-29T11:48:25.625Z: 📍 User account in instruction:",
    "2025-10-29T11:48:25.625Z:    Index: 1",
    "2025-10-29T11:48:25.625Z:    isSigner: true",
    "2025-10-29T11:48:25.625Z:    isWritable: true",
    "2025-10-29T11:48:25.625Z: ✅ TEST 2: Instruction structure OK",
    "2025-10-29T11:48:25.625Z: \n🔍 TEST 3: Attempting deposit via Anchor .rpc()...",
    "2025-10-29T11:48:25.676Z: 📝 TEST: Wallet adapter signing transaction...",
    "2025-10-29T11:48:27.702Z: ✅ TEST: Transaction signed - 1 signatures",
    "2025-10-29T11:48:27.753Z: ❌❌❌ TEST SUITE FAILED",
    "2025-10-29T11:48:27.754Z: Error: AnchorError caused by account: user. Error Code: AccountNotSigner. Error Number: 3010. Error Message: The given account did not sign.",
    "2025-10-29T11:48:27.754Z: Program logs:",
    "2025-10-29T11:48:27.754Z:   Program C2T3UnvGdHwEkspXJG7JyAhwo6VKQEKjN6eCq69guYSw invoke [1]",
    "2025-10-29T11:48:27.754Z:   Program log: Instruction: DepositNativeSol",
    "2025-10-29T11:48:27.754Z:   Program log: AnchorError caused by account: user. Error Code: AccountNotSigner. Error Number: 3010. Error Message: The given account did not sign.",
    "2025-10-29T11:48:27.754Z:   Program C2T3UnvGdHwEkspXJG7JyAhwo6VKQEKjN6eCq69guYSw consumed 4605 of 200000 compute units",
    "2025-10-29T11:48:27.754Z:   Program C2T3UnvGdHwEkspXJG7JyAhwo6VKQEKjN6eCq69guYSw failed: custom program error: 0xbc2"
  ]
}