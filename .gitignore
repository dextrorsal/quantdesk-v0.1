# ===================================================================
# üîí QUANTDESK OPEN SOURCE .GITIGNORE (BALANCED VERSION)
# ===================================================================
# This .gitignore balances open source value with proprietary protection
# Keeps valuable components for community while protecting sensitive code
# ===================================================================
bmad/
# ===================================================================
# üîí PRIVATE DOCUMENTATION (Internal Strategy & Analysis)
# ===================================================================
# Internal docs: investor materials, market analysis, brainstorming, rules
private-docs/

# ===================================================================
# üö® CRITICAL: Secrets, Keys, and Environment Variables
# ===================================================================
# NEVER COMMIT THESE - Contains API keys, private keys, and sensitive data
.env*
!.env.example
!.env.template
!.env.sample

# Private keys and wallet files
*.key
*.pem
*.p12
*.pfx
*.keypair
*-keypair.json
wallet.json
id.json
keypair.json
solana-keypair.json
mainnet-keypair.json
devnet-keypair.json

# Sensitive directories
secrets/
keys/
credentials/
private/
config/secrets/
config/keys/
config/private/
k8s/secrets/
ssl/
certs/

# ===================================================================
# üîí PROPRIETARY CODE PROTECTION (Complete)
# ===================================================================
# Hide ALL source code - only show public parts: examples, docs, tests, SDKs, public APIs

# Hide entire services (keep only public parts: docs/, examples/, tests/, README.md)
/MIKEY-AI/
/MIKEY-AI/src/
/MIKEY-AI/package.json
/MIKEY-AI/tsconfig.json
/MIKEY-AI/.env.example
/MIKEY-AI/.eslintrc.js
/MIKEY-AI/.prettierrc
/MIKEY-AI/.dockerignore
/MIKEY-AI/Dockerfile
/MIKEY-AI/.husky/
/MIKEY-AI/.lintstagedrc.js
# Keep: MIKEY-AI/examples/, MIKEY-AI/docs/, MIKEY-AI/tests/, MIKEY-AI/README.md (if exist)

/frontend/src/
/frontend/public/
/frontend/package.json
/frontend/package-lock.json
/frontend/pnpm-lock.yaml
/frontend/vite.config.ts
/frontend/tsconfig.json
/frontend/postcss.config.js
/frontend/.env.example
/frontend/.gitignore
/frontend/index.html
/frontend/nginx.conf
/frontend/kill-frontend.sh
/frontend/vercel.json
# Keep: frontend/examples/, frontend/docs/, frontend/tests/, frontend/README.md (if exist)

/backend/src/
/backend/package.json
/backend/pnpm-lock.yaml
/backend/tsconfig.json
/backend/.env.example
/backend/.eslintrc.js
/backend/Dockerfile
/backend/railway.json
/backend/railway.toml
/backend/railway.yaml
/backend/.railwayignore
/backend/kill-backend.sh
/backend/instrument.js
/backend/enhanced-price-api.js
/backend/pyth-sdk-api.js
/backend/quick-validation.js
# Keep: backend/tests/, backend/docs/, backend/examples/, backend/README.md (if exist)
# Keep: backend/src/routes/*.ts (public API endpoints only - but hide entire src/ for now)

/data-ingestion/src/
/data-ingestion/package.json
/data-ingestion/package-lock.json
/data-ingestion/.env.example
/data-ingestion/.cursorrules
/data-ingestion/README.md
# Keep: data-ingestion/test/, data-ingestion/docs/, data-ingestion/examples/ (if exist)

/admin-dashboard/

# ===================================================================
# üß™ TESTS - PUBLIC
# ===================================================================
# Show all tests for transparency and security auditing
# /tests/ - KEEP (show integration tests)
# /backend/tests/ - KEEP (show backend tests)
# /frontend/src/tests/ - KEEP (show frontend tests)
# contracts/tests/ - KEEP (show smart contract tests)
# data-ingestion/test/ - KEEP (show data pipeline tests)

# Archive and backup files
/archive/
*.backup
*.bak

# ===================================================================
# üåê OPEN SOURCE COMPONENTS (KEEP THESE)
# ===================================================================
# Keep these folders/files for open source value:
# /frontend/src/components/ui/          # UI components
# /frontend/src/components/common/      # Common components
# /frontend/src/hooks/common/           # Common hooks
# /frontend/src/services/api/           # API service layer
# /frontend/src/utils/common/            # Common utilities
# /frontend/src/types/                  # TypeScript types
# /frontend/src/constants/              # Constants
# /frontend/public/                     # Public assets

# /backend/src/services/api/             # API services
# /backend/src/controllers/api/         # API controllers
# /backend/src/middleware/common/       # Common middleware
# /backend/src/utils/common/             # Common utilities
# /backend/src/types/                   # TypeScript types
# /backend/src/constants/                # Constants
# /backend/src/routes/                   # API routes

# MIKEY-AI agents are now protected by /MIKEY-AI/ exclusion above

# /data-ingestion/src/processors/common/ # Common processors
# /data-ingestion/src/utils/             # Common utilities
# /data-ingestion/src/types/             # TypeScript types

# /admin-dashboard/src/components/ui/    # UI components
# /admin-dashboard/src/components/common/ # Common components
# /admin-dashboard/src/services/api/     # API services
# /admin-dashboard/src/utils/            # Common utilities

# ===================================================================
# üì¶ DEPENDENCIES & PACKAGE MANAGERS
# ===================================================================
# Node.js dependencies
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# Package manager lock files - KEEP ALL (like Drift Protocol v2)
# yarn.lock
# package-lock.json
# pnpm-lock.yaml
# Cargo.lock

# Python virtual environments
env/
venv/
ENV/
env.bak/
venv.bak/
.venv/
.env/

# Rust dependencies
target/
# Cargo.lock - KEEP (shows dependency versions, like Drift Protocol)
# Note: Keep Cargo.toml for dependency specification

# ===================================================================
# üèóÔ∏è BUILD OUTPUTS & COMPILED CODE
# ===================================================================
# General build outputs
dist/
build/
out/
*.tgz
*.tar.gz

# Framework-specific builds
.next/
.nuxt/
.vuepress/dist/
.serverless/
.fusebox/
.dynamodb/
.railway/
.vercel/
.vite/
.supabase/

# TypeScript build info
*.tsbuildinfo
.tsbuildinfo

# Compiled binaries
*.exe
*.exe~
*.dll
*.so
*.dylib
*.test
*.out

# Solana specific
test-ledger/
.anchor/
deployed_program.so
target/

# ===================================================================
# üóÑÔ∏è DATABASES & DATA FILES
# ===================================================================
# Local database files
*.db
*.sqlite
*.sqlite3
*.mdb
*.accdb

# Database dumps and exports
*.sql.dump
*.dump
database-backup/
db-backup/

# ===================================================================
# üìä LOGS & RUNTIME DATA
# ===================================================================
# Log files
logs/
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
test-results.log
error.log
access.log
combined.log

# Runtime data
pids/
.pids/
*.pid
*.seed
*.pid.lock

# ===================================================================
# üß™ TESTING & COVERAGE
# ===================================================================
# Test outputs
coverage/
*.lcov
.nyc_output/
test-results/
playwright-report/
playwright/.cache/
test-results.xml

# Cypress outputs
cypress/videos/
cypress/screenshots/
cypress/downloads/

# Jest outputs
.jest/
jest-results/

# ===================================================================
# üîß DEVELOPMENT TOOLS & CACHES
# ===================================================================
# Caches
.cache/
.parcel-cache/
.npm/
.yarn-integrity
.eslintcache
.prettiercache
.stylelintcache
.turbo/

# IDE and editor files - KEEP CONFIG FILES (like Drift Protocol)
# .vscode/ - KEEP (show IDE settings for contributors)
# .idea/ - KEEP (show IDE settings for contributors)
# .cursor/ - KEEP (show IDE settings for contributors)
# .devcontainer/ - KEEP (show dev container config)
# .docker/ - KEEP (show Docker configs)
# .github/ - KEEP (show CI/CD workflows)

# Temporary editor files (hide these)
*.swp
*.swo
*~
.tern-port
.vscode-test/
.node_repl_history

# ===================================================================
# üñ•Ô∏è OPERATING SYSTEM FILES
# ===================================================================
# macOS
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
.fseventsd
.TemporaryItems
.VolumeIcon.icns
.com.apple.timemachine.donotpresent

# Windows
ehthumbs.db
Thumbs.db
desktop.ini
$RECYCLE.BIN/
*.cab
*.msi
*.msix
*.msm
*.msp
*.lnk

# Linux
*~
.fuse_hidden*
.directory
.Trash-*
.nfs*

# ===================================================================
# üìÅ TEMPORARY & LOCAL FILES
# ===================================================================
# Temporary files
tmp/
.tmp/
temp/
.temp/
*.tmp
*.temp

# Local configuration overrides
config.local.js
config.local.json
config.local.ts
config.local.yml
config.local.yaml

# Local development directories
.local/
local/
dev/
development/
scratch/

# ===================================================================
# üìà MONITORING & ANALYTICS
# ===================================================================
# Monitoring data (may contain sensitive metrics)
monitoring/
analytics/
metrics/
stats/
performance-data/

# Security scan results
security-scan-results/
vulnerability-reports/
audit-reports/
penetration-test-results/

# ===================================================================
# üöÄ DEPLOYMENT & INFRASTRUCTURE
# ===================================================================
# Production deployment configs
docker-compose.override.yml
docker-compose.prod.yml
docker-compose.staging.yml
k8s/prod/
k8s/staging/
config/production/
config/staging/

# Terraform state files
*.tfstate
*.tfstate.*
.terraform/
# .terraform.lock.hcl - KEEP (shows provider versions)

# ===================================================================
# üìö DOCUMENTATION BUILDS
# ===================================================================
# Generated documentation
docs/_build/
docs/build/
docs-site/html/
site/
_site/

# ===================================================================
# üåê OPEN SOURCE PUBLIC COMPONENTS
# ===================================================================
# ALWAYS KEEP these files for open source (DO NOT IGNORE):
# - README.md, README.* (in all directories)
# - LICENSE, LICENSE.*
# - package.json, package-lock.json, pnpm-lock.yaml, yarn.lock, Cargo.lock
# - docs/ (documentation in all directories)
# - examples/ (demo code in all directories)
# - scripts/ (utility scripts)
# - tests/ (tests in all directories)
# - .github/ (CI/CD workflows)
# - .devcontainer/ (dev container config)
# - .vscode/, .cursor/ (IDE settings for contributors)

# Explicit patterns to ALWAYS SHOW public files (even if parent dir might be ignored elsewhere)
!**/README.md
!**/README.*
!**/LICENSE
!**/LICENSE.*
!**/package.json
!**/package-lock.json
!**/pnpm-lock.yaml
!**/yarn.lock
!**/Cargo.lock
!**/Cargo.toml
!**/tsconfig.json
!**/Anchor.toml

# Always show docs, examples, tests in any directory
!**/docs/
!**/examples/
!**/tests/
!**/test/

# Smart Contracts - FULLY PUBLIC
# /contracts/ - KEEP ALL (programs/, tests/, docs/, examples/)
# Show: contracts/programs/, contracts/tests/, contracts/docs/, contracts/examples/

# SDK - FULLY PUBLIC
# /sdk/ - KEEP ALL (SDK code, docs, examples)

# Backend - SHOW PUBLIC PARTS
# Show: source code, tests/, docs/, examples/, README.md, public API routes (src/routes/*.ts)
# Hide: proprietary trading algorithms (see PROPRIETARY section below)
# !/backend/README.md
# !/backend/tests/
# !/backend/docs/
# !/backend/examples/
# !/backend/src/routes/*.ts

# Frontend - SHOW PUBLIC PARTS  
# Show: source code, tests/, docs/, examples/, README.md, public components
# Hide: proprietary trading UI (see PROPRIETARY section below)
# !/frontend/README.md
# !/frontend/src/tests/
# !/frontend/docs/
# !/frontend/examples/

# Data Ingestion - SHOW PUBLIC PARTS
# Show: source code, tests/, docs/, examples/, README.md, public processors
# Hide: proprietary trading analyzers (see PROPRIETARY section below)
# !/data-ingestion/README.md
# !/data-ingestion/test/
# !/data-ingestion/docs/
# !/data-ingestion/examples/

# Admin Dashboard - SHOW PUBLIC PARTS
# Show: source code, tests/, docs/, examples/, README.md, public components
# Hide: proprietary admin features (see PROPRIETARY section below)
# !/admin-dashboard/README.md
# !/admin-dashboard/tests/
# !/admin-dashboard/docs/
# !/admin-dashboard/examples/

# Config - KEEP PUBLIC
# /config/ - KEEP (infrastructure as code, templates)

# Database - SHOW SCHEMA & MIGRATIONS
# Show: schema.sql, migrations/, setup docs (SETUP_GUIDE.md, etc.)
# Hide: proprietary data/logs

# Docs - KEEP PUBLIC
# /docs/ - KEEP ALL documentation

# Examples - KEEP PUBLIC
# /examples/ - KEEP ALL example code

# Scripts - KEEP PUBLIC
# /scripts/ - KEEP public utility scripts (hide sensitive ones below)

# Hide proprietary/sensitive directories (ENTIRE DIRECTORIES)
/admin-dashboard/
/important-docs/
/reports/
/database/
/debug/
/misc/
/data/
/assets/
/bmad-docs/
/docs-site/
!/docs-site/README.md
/.bmad-core/
/.playwright-mcp/
/.cursor/
/.docker/
/.vscode/
/bmad/
/config/
/src/
/project_history/

# ===================================================================
# üéØ PROJECT-SPECIFIC EXCLUSIONS
# ===================================================================
# QuantDesk specific files to ignore
quantdesk-*.png
test-*.js
weekly-update-*.md
weekly-update-*.html

# MCP and AI specific
.playwright-mcp/
mcp-cache/
ai-models/
fine-tuned-models/

# Trading specific (sensitive)
trading-strategies/
algorithms/
backtest-results/
portfolio-data/
user-data/
transaction-logs/

# ===================================================================
# ‚úÖ END OF .GITIGNORE
# ===================================================================
# This .gitignore ensures:
# 1. üîí Proprietary trading algorithms stay private
# 2. üîë Secrets and keys are never committed
# 3. üåê Open source components remain accessible
# 4. üßπ Repository stays clean and professional
# 5. üìö Community gets valuable code samples and utilities
# ===================================================================
# Specific proprietary files (not in trading/ directories)
# Note: Public source code is visible - only trading algorithms are hidden
/backend/src/services/advancedOrderService.ts
/backend/src/services/advancedRiskManagementService.ts
/backend/src/services/crossCollateralService.ts
/backend/src/services/jitLiquidityService.ts
/backend/src/services/orderAuthorizationService.ts
/backend/src/services/performanceMonitoringService.ts
/backend/src/services/pnlCalculationService.ts
/backend/src/routes/advancedOrders.ts

# Pattern-based exclusions for proprietary files
**/tradingService.ts
**/TradingAgent.ts
**/SimpleTradingAgent.ts
**/advancedOrder*.ts
**/advancedRisk*.ts
**/crossCollateral*.ts
**/jitLiquidity*.ts
**/orderAuthorization*.ts
**/performanceMonitoring*.ts
**/pnlCalculation*.ts
**/advancedOrders.ts

# Additional proprietary trading components (per Story 1.1 requirements)
# Order and position management
/backend/src/routes/orders.ts
/backend/src/routes/portfolio.ts
/backend/src/routes/portfolioAnalytics.ts
/backend/src/routes/positions.ts
/backend/src/services/funding.ts
/backend/src/services/orderScheduler.ts
/backend/src/services/portfolioAnalyticsService.ts
/backend/src/services/portfolioBackgroundService.ts
/backend/src/services/portfolioCalculationService.ts

# Wallet and authentication (sensitive)
# Hide wallet management utilities (keep public contract code visible)
/contracts/src/utils/wallet-manager.ts
/scripts/auth-diagnostic.js

# Database migrations with proprietary logic
/backend/src/migrations/create_advanced_orders_table.sql

# Pattern-based exclusions for additional proprietary files
**/orders.ts
**/portfolio*.ts
**/positions.ts
**/funding.ts
**/orderScheduler.ts
**/portfolioAnalytics*.ts
**/portfolioBackground*.ts
**/portfolioCalculation*.ts
**/wallet-manager.ts
**/walletAuth.ts
**/test-wallet*.ts
**/auth-diagnostic.js
**/create_advanced_orders_table.sql

# Hide sensitive and proprietary scripts
scripts/security/
scripts/dev/
scripts/git/
scripts/monitor-*.ts
scripts/epic1-testing.js
scripts/run-hackathon-tests.js
scripts/comprehensive-market-seeding.sh
scripts/add-essential-markets.sh
scripts/integrate-advanced-features.sh
scripts/prepare-solana-expert-analysis.sh
scripts/run-solana-expert-analysis.sh
scripts/cleanup-duplicate-docs.sh
scripts/fix-workflow-permissions.sh
scripts/setup-wsl-dev.sh
scripts/auth-diagnostic.js
scripts/update-market-metadata.sh

# Additional sensitive scripts
scripts/seed-markets.sh
scripts/validate-protocol-cli.sh
scripts/seed/seed.ts

# Hide proprietary root files
.cursorrules
.bmad-flattenignore
# .railwayignore - KEEP (deployment config, like Drift)
# env.template - KEEP (shows required env vars structure)

# Hide investor strategy documents
INVESTOR_OPEN_SOURCE_STRATEGY.md
OPEN_SOURCE_METRICS_DASHBOARD.md
INVESTOR_PITCH_DECK.md